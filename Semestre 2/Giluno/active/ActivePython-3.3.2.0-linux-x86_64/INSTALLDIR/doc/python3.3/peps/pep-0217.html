<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/peps/pep-0001.html for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<head>
  <title>PEP 217 -- Display Hook for Interactive Use</title>
  <link rel="STYLESHEET" href="style.css" type="text/css" />
</head>
<body bgcolor="white">

<div class="header">
<table border="0">
  <tr><th>PEP:&nbsp;</th><td>217</td></tr>
  <tr><th>Title:&nbsp;</th><td>Display Hook for Interactive Use</td></tr>
  <tr><th>Version:&nbsp;</th><td>$Revision: 56105 $</td></tr>
  <tr><th>Last-Modified:&nbsp;</th><td><a href="http://svn.python.org/view/peps/trunk/pep-0217.txt">$Date: 2007-06-27 17:04:45 -0700 (Wed, 27 Jun 2007) $</a> </td></tr>
  <tr><th>Author:&nbsp;</th><td>Moshe Zadka &lt;moshez&#32;&#97;t&#32;zadka.site.co.il&gt;</td></tr>
  <tr><th>Status:&nbsp;</th><td>Final</td></tr>
  <tr><th>Type:&nbsp;</th><td>Standards Track</td></tr>
  <tr><th>Created:&nbsp;</th><td>31-Jul-2000</td></tr>
  <tr><th>Python-Version:&nbsp;</th><td>2.1</td></tr>
  <tr><th>Post-History:&nbsp;</th><td></td></tr>
</table>
</div>
<hr />
<div class="content">
<h3>Abstract</h3>
<pre>
    Python's interactive mode is one of the implementation's great
    strengths -- being able to write expressions on the command line
    and get back a meaningful output.  However, the output function
    cannot be all things to all people, and the current output
    function too often falls short of this goal.  This PEP describes a
    way to provides alternatives to the built-in display function in
    Python, so users will have control over the output from the
    interactive interpreter.

</pre>
<h3>Interface</h3>
<pre>
    The current Python solution has worked for many users, and this
    should not break it. Therefore, in the default configuration,
    nothing will change in the REPL loop. To change the way the
    interpreter prints interactively entered expressions, users
    will have to rebind sys.displayhook to a callable object.
    The result of calling this object with the result of the
    interactively entered expression should be print-able,
    and this is what will be printed on sys.stdout.

</pre>
<h3>Solution</h3>
<pre>
    The bytecode PRINT_EXPR will call sys.displayhook(POP())
    A displayhook() will be added to the sys builtin module, which is
    equivalent to

    import __builtin__
    def displayhook(o):
        if o is None:
            return
        __builtin__._ = None
        print `o`
        __builtin__._ = o
        
</pre>
<h3>Jython Issues</h3>
<pre>
    The method Py.printResult will be similarily changed.

</pre>
</div>
</body>
</html>
