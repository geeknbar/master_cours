<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/peps/pep-0001.html for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<head>
  <title>PEP 202 -- List Comprehensions</title>
  <link rel="STYLESHEET" href="style.css" type="text/css" />
</head>
<body bgcolor="white">

<div class="header">
<table border="0">
  <tr><th>PEP:&nbsp;</th><td>202</td></tr>
  <tr><th>Title:&nbsp;</th><td>List Comprehensions</td></tr>
  <tr><th>Version:&nbsp;</th><td>$Revision: 66727 $</td></tr>
  <tr><th>Last-Modified:&nbsp;</th><td><a href="http://svn.python.org/view/peps/trunk/pep-0202.txt">$Date: 2008-10-02 05:51:05 -0700 (Thu, 02 Oct 2008) $</a> </td></tr>
  <tr><th>Author:&nbsp;</th><td>Barry Warsaw &lt;barry&#32;&#97;t&#32;python.org&gt;</td></tr>
  <tr><th>Status:&nbsp;</th><td>Final</td></tr>
  <tr><th>Type:&nbsp;</th><td>Standards Track</td></tr>
  <tr><th>Created:&nbsp;</th><td>13-Jul-2000</td></tr>
  <tr><th>Python-Version:&nbsp;</th><td>2.0</td></tr>
  <tr><th>Post-History:&nbsp;</th><td></td></tr>
</table>
</div>
<hr />
<div class="content">
<h3>Introduction</h3>
<pre>
    This PEP describes a proposed syntactical extension to Python,
    list comprehensions.


</pre>
<h3>The Proposed Solution</h3>
<pre>
    It is proposed to allow conditional construction of list literals
    using for and if clauses.  They would nest in the same way for
    loops and if statements nest now.
    

</pre>
<h3>Rationale</h3>
<pre>
    List comprehensions provide a more concise way to create lists in
    situations where map() and filter() and/or nested loops would
    currently be used.


</pre>
<h3>Examples</h3>
<pre>
    &gt;&gt;&gt; print [i for i in range(10)]
    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

    &gt;&gt;&gt; print [i for i in range(20) if i%2 == 0]
    [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

    &gt;&gt;&gt; nums = [1,2,3,4]
    &gt;&gt;&gt; fruit = ["Apples", "Peaches", "Pears", "Bananas"]
    &gt;&gt;&gt; print [(i,f) for i in nums for f in fruit]
    [(1, 'Apples'), (1, 'Peaches'), (1, 'Pears'), (1, 'Bananas'),
     (2, 'Apples'), (2, 'Peaches'), (2, 'Pears'), (2, 'Bananas'),
     (3, 'Apples'), (3, 'Peaches'), (3, 'Pears'), (3, 'Bananas'),
     (4, 'Apples'), (4, 'Peaches'), (4, 'Pears'), (4, 'Bananas')]
    &gt;&gt;&gt; print [(i,f) for i in nums for f in fruit if f[0] == "P"]
    [(1, 'Peaches'), (1, 'Pears'),
     (2, 'Peaches'), (2, 'Pears'),
     (3, 'Peaches'), (3, 'Pears'),
     (4, 'Peaches'), (4, 'Pears')]
    &gt;&gt;&gt; print [(i,f) for i in nums for f in fruit if f[0] == "P" if i%2 == 1]
    [(1, 'Peaches'), (1, 'Pears'), (3, 'Peaches'), (3, 'Pears')]
    &gt;&gt;&gt; print [i for i in zip(nums,fruit) if i[0]%2==0]
    [(2, 'Peaches'), (4, 'Bananas')]


</pre>
<h3>Reference Implementation</h3>
<pre>
    List comprehensions become part of the Python language with
    release 2.0, documented in [1].


</pre>
<h3>BDFL Pronouncements</h3>
<pre>
    - The syntax proposed above is the Right One.

    - The form [x, y for ...] is disallowed; one is required to write
      [(x, y) for ...].

    - The form [... for x... for y...] nests, with the last index
      varying fastest, just like nested for loops.


</pre>
<h3>References</h3>
<pre>
    [1] <a href="http://docs.python.org/reference/expressions.html#list-displays">http://docs.python.org/reference/expressions.html#list-displays</a>


</pre>
</div>
</body>
</html>
