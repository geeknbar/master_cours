<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2K.1beta (1.48)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Dealing with the imperfect (or how to handle errors)</TITLE>
<META NAME="description" CONTENT="Dealing with the imperfect (or how to handle errors)">
<META NAME="keywords" CONTENT="easytut">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2K.1beta">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="easytut.css">

<LINK REL="next" HREF="node19.html">
<LINK REL="previous" HREF="node17.html">
<LINK REL="up" HREF="easytut.html">
<LINK REL="next" HREF="node19.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html385"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html381"
  HREF="easytut.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html375"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html383"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html386"
  HREF="node19.html">The End</A>
<B> Up:</B> <A NAME="tex2html382"
  HREF="easytut.html">Non-Programmers Tutorial For Python</A>
<B> Previous:</B> <A NAME="tex2html376"
  HREF="node17.html">File IO</A>
 &nbsp <B>  <A NAME="tex2html384"
  HREF="node2.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html387"
  HREF="#SECTION001810000000000000000">Exercises</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION001800000000000000000">
Dealing with the imperfect (or how to handle errors)</A>
</H1>

<P>
So you now have the perfect program, it runs flawlessly, except for one detail, it will crash on invalid user input.  Have no fear, for Python has a special control structure for you.  It's called <code>try</code> and it tries to do something.  Here is an example of a program with a problem:
<PRE>
print "Type Control C or -1 to exit"
number = 1
while number != -1:
    number = int(raw_input("Enter a number: "))
    print "You entered: ",number
</PRE>

<P>
Notice how when you enter <code>@#&amp;</code> it outputs something like:
<PRE>
Traceback (innermost last):
  File "try_less.py", line 4, in ?
    number = int(raw_input("Enter a number: "))
ValueError: invalid literal for int(): @#&amp;
</PRE>

<P>
As you can see the <code>int</code> function is unhappy with the number <code>@#&amp;</code> (as well it should be).  The last line shows what the problem is; Python found a <code>ValueError</code>.   How can our program deal with this?  What we do is first: put the place where the errors occurs in a <code>try</code> block, and second: tell Python how we want <code>ValueError</code>s handled.  The following program does this:
<PRE>
print "Type Control C or -1 to exit"
number = 1
while number != -1:
    try:
        number = int(raw_input("Enter a number: "))
        print "You entered: ",number
    except ValueError:
        print "That was not a number."
</PRE>

<P>
Now when we run the new program and give it <code>@#&amp;</code> it tells us ``That was not a number.'' and continues with what it was doing before.

<P>
When your program keeps having some error that you know how to handle, put code in a <code>try</code> block, and put the way to handle the error in the <code>except</code> block.

<P>

<H1><A NAME="SECTION001810000000000000000">
Exercises</A>
</H1>

<P>
Update at least the phone numbers program so it doesn't crash if a
user doesn't enter any data at the menu.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html385"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html381"
  HREF="easytut.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html375"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html383"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html386"
  HREF="node19.html">The End</A>
<B> Up:</B> <A NAME="tex2html382"
  HREF="easytut.html">Non-Programmers Tutorial For Python</A>
<B> Previous:</B> <A NAME="tex2html376"
  HREF="node17.html">File IO</A>
 &nbsp <B>  <A NAME="tex2html384"
  HREF="node2.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Josh Cogliati <a href="mailto:jjc@honors.montana.edu">jjc@honors.montana.edu</a> Wikibooks Version: <a href="http://wikibooks.org/wiki/User:Jrincayc/Contents">Wikibooks Non-programmers Python Tutorial Contents</a>
</ADDRESS>
</BODY>
</HTML>
